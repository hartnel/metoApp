
<mat-card

fxLayout="column"

fxLayoutAlign="center"
style="height:100%;width:100%"
class="white-semi-transparent"

*ngIf="!currentMeteoDay"

>

<mat-spinner color="accent" diameter=300   style="align-self: center"></mat-spinner>
</mat-card>

<mat-card

  fxLayout="column"

  fxLayoutAlign="space-between"
  style="height:100%;width:100%"
  fxLayoutGap="10"
  class="white-semi-transparent"
  *ngIf="currentMeteoDay"
>




  <mat-card
    fxLayout="row" fxFlex="10"
    fxLayoutAlign="space-between"
    class="bg-transparent"
  >
  <div class="forecast__text" fxFlex>
    Prévisions de la semaine

  </div>

    <div class="city-name__text" fxFlex>
      {{ location.fullName }}
    </div>
  </mat-card>

  <mat-card
    fxLayout="row"
    fxFlex="80"
    fxLayout.xs="column"
    fxFlex.xs="100"
    fxLayoutAlign="space-between"
    class="bg-transparent"
  >
    <div
      fxLayout="column"
      fxFlex="20"
      fxFlex.xs="100"
      fxLayoutAlign="space-around"
      class="white-transparent"
    >

     <button    (click)="actionChange(meteoDay.dayText)"  [id] ="meteoDay.dayText" fxLayout="column" class="white-transparent dateItem" fxLayoutAlign="space-between" fxFlex="15" *ngFor="let meteoDay of location.forecastMeteoDay" >

      <div fxLayout="row" class="dayText" fxFlex="40" fxLayoutAlign="center">
          {{meteoDay.dayText}}
      </div>

      <div fxLayout="row" fxFlex="40" class="dateText" fxLayoutAlign="center">
          {{meteoDay.simpleDate}}
      </div>


    </button>
    </div>

    <div
      class="white-transparent"
      fxFlex="77"
      fxLayout="column"
      fxLayoutAlign="space-between"
    >
      <mat-card
        fxLayout="row"
        fxFlex="10"
        fxLayoutAlign="center"
        class="white-transparent"
      >
        <span class="forecast_today_title">{{currentMeteoDay.dateText}}</span>
      </mat-card>

      <mat-card
        class="bg-transparent"
        fxFlex="85"
        fxLayout="row"
        fxLayoutAlign="space-around"
      >
        <mat-card
          *ngFor="let meteoInfo of currentMeteoDay.todayForecast"
          fxLayout="column"
          fxLayoutGap="5px"
          fxFlex="20"
          class="meteoInfoForecast white-semi-transparent"
        >
          <div fxFlex="20" class="hourTitle white-transparent"
            >{{ meteoInfo.hour }} :00</div
          >

          <mat-card
            fxFlex="40"
            class="forecastTemp white-transparent"
            fxLayout="column"
            fxLayoutGap="3"
            fxLayoutAlign="end"
          >
            <div
              fxFlex="60"
              class="icon"
              [ngStyle]="{
                'background-image': meteoInfo.main_icon
              }"
            ></div>

            <div fxFlex="40" fxLayout="row" fxLayoutAlign="flex-end">
              <div
                class="bg-transparent"
                fxFlex="25"
                fxLayout="column"
                fxLayoutAlign="flex-start"
              >
                min
                <span class="subValue"> {{ meteoInfo.temperature.min }}°</span>
              </div>

              <div class="bg-transparent" fxFlex="30">
                <span class="value"> {{ meteoInfo.temperature.val }}° </span>
              </div>

              <div
                class="bg-transparent"
                fxFlex="30"
                fxLayout="column"
                fxLayoutAlign="flex-start"
              >
                max<span class="subValue">
                  {{ meteoInfo.temperature.max }}°</span
                >
              </div>
            </div>
          </mat-card>

          <mat-card fxFlex="20" fxLayout="column" class="bg-transparent">
            <div class="info_title">
              Pression
            </div>

            <div class="info_value">
                {{ meteoInfo.pressure }} hpa
            </div>
          </mat-card>

          <mat-card fxFlex="20" fxLayout="column" class="bg-transparent">
            <div class="info_title"> Humidité </div>

            <div class="info_value">{{ meteoInfo.humidity }}%</div>
          </mat-card>
        </mat-card>
      </mat-card>
    </div>
  </mat-card>

  <div
  class="bg-transparent"
  fxFlex=5
  fxLayout="row"
  style="border-color: transparent"
  fxLayoutAlign="flex-start"
  >


  <div fxLayout="column" fxLayoutAlign="center">
  <button mat-button  fxFlex="100" mat-button style="width: 100%; height: 100%;font-weight:bold;align-self:center" class="white-semi-transparent"   (click)="actionBack()">

    <mat-icon>arrow_left</mat-icon>
    Météo du jour
  </button>
</div>



</div>

